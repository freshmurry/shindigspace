<div class="panel panel-default" style="margin-right: -45px; margin-left: -45px;">
  <div class="panel-heading">
    Create Your Church Space
  </div>
  <div class="panel-body">
    <div class="container">
      
      <!--<= form_for @venue, html: {multipart: true} do |f| %>-->
      <%= form_for @venue, url: venue_photos_path(@venue), method: 'post', html: {multipart: true} do |f| %>

        <div class="col-md-4 select">
          <div class="form-group">
            <label>Event Type</label>
            <%= f.select :event_type, [["Public Space", "Public Space"], ["Private Space", "Private Space"]], 
            id: "event_type", prompt: "Select...", class: "form-control" %>
          </div>
        </div>
          
        <div class="col-md-4 select">
          <div class="form-group">
            <label>Accommodate</label>
            <%= f.select :accommodate, [["30", 30], ["40", 40], ["50", 50], ["60", 60], ["70", 70], ["80", 80], ["90", 90], ["100", 100], 
               ["120", 120], ["130", 130], ["150", 150], ["200", 200], ["250", 250], ["300+", 300]], 
               id: "accommodate", prompt: "Select...", class: "form-control" %>
          </div>
        </div>
          
        <div class="col-md-4 select">
          <div class="form-group">
            <label>Venue Type</label>
            <%= f.select :venue_type, [["Church", "Church"]],
              id: "venue_type", prompt: "Select...", class: "form-control" %>
          </div>
        </div>
          
        <div class="col-md-4 select">
          <div class="form-group">
            <label>Rest Rooms</label>
            <%= f.select :rest_room, [["1", 1], ["2", 2], ["3", 3], ["4+", 4]], id: "rest_room", prompt: "Select...", class: "form-control" %>
          </div>
        </div>
          
        <div class="col-md-4 select">
          <div class="form-group">
            <label>Booking Type</label>
            <%= f.select :instant, Venue.instants.map {|key,value| [key.humanize, key]}, selected: 'Instant', prompt: "Select...", class: "form-control" %>
          </div>
        </div>
        
        <div class="col-md-12">
          <div class="form-group">
            <label>Listing Name</label>
            <%= f.text_field :listing_name, placeholder: "What is your listing name?", class: "form-control", required: true %>
          </div>
        </div>

        <div class="col-md-12">
          <div class="form-group">
            <label>Description</label>
            <%= f.text_area :description, rows: 5, placeholder: "Description of your church space", class: "form-control", required: true %>
          </div>
        </div>  

        <div class="col-md-12">
          <div class="form-group">
            <label>Address</label>
            <%= f.text_field :address, placeholder: "Where is your church space located?", class: "form-control", required: true, id: "autoaddress" %>
          </div>
        </div>
        
        <hr></hr>
        
        <div class="col-md-4">
          <div class="form-group">
            <label>Price</label>
            <div class="input-group">
              <span class="input-group-addon">$</span>
              <%= f.text_field :price, placeholder: "eg. 100.00", class: "form-control" %>
            </div>  
          </div>
        </div>
        
        <div class="col-md-4">
          <div class="form-group">
            <label>Services</label>
  
            <div data-controller="nested-form">
              <template data-target='nested-form.template'>
                <%= f.fields_for :services, Service.new, child_index: 'TEMPLATE_RECORD' do |service| %>
                  <%= render 'services', form: service %>
                <% end %>
              </template>
          
              <%= f.fields_for :services do |service| %>
                <%= render 'services', form: service %>
              <% end %>
          
              <div data-target="nested-form.add_service">
                <%= link_to "Add Service", "#", data: { action: "nested-form#add_association" }, class: "btn btn-normal" %>
              </div>
            </div>
            
          </div>
        </div>
        
        <!------------------------------ PHOTO UPLOAD PANEL ------------------------------>

        <!--<div class="panel-default" style="margin-right: -45px; margin-left: -45px;">-->
        
          <!--<div class="container">-->
            <div class="row">
                  
              <!-- PHOTOS UPLOAD GOES HERE -->
                <div class="container-fluid">
                  <div class="col-md-12"> 
                    <div class="form-group">
                      <span class="btn btn-default btn-file">
                        <i class="fas fa-cloud-upload-alt" aria-hidden="true"></i> UPLOAD PHOTOS
                        <%= file_field_tag "images[]", type: :file, multiple: true %>
                      </span>
                    </div>
                  </div>
                </div>
        
                <div id="photos"><%= render 'photos/photos_list' %></div>
                
                <div class="row">
                  <div class="col-md-12">
                    <div class="actions text-center"> 
                      <%= f.hidden_field :active, value: true %>
                      <%= f.submit "Create My Listing", class: "btn btn-normal" %>
                    </div>  
                  </div>
                </div>
            </div>
          <!--</div>-->
        <!--</div>-->


      <% end %>
    </div>
  </div>
</div>


<script>
  $(function() {
    $("#autoaddress").geocomplete();
  })
</script>